{% extends 'quiz/base.html' %}

{% block container %}

    <div class="container" style="margin-top: 16px">
        <h3>Edit Mock Test</h3>
        {% if error %}
            <div class="alert alert-danger" role="alert">
                {{ error }}
            </div>
        {% endif %}
        <form action="" method="post">
            {% csrf_token %}

            <table cellpadding="8">
                <tr>
                    <td>Name:</td>
                    <td><input type="text" name="name" value="{{ mock_test.name }}" class="mdl-textfield__input"></td>
                </tr>
                <tr>
                    <td><b>Price:</b></td>
                </tr>
                <tr>
                    <td>Indian Rupee:</td>
                    <td><input type="number" step="0.01" placeholder="Ex: 123.43" name="price_india"
                               class="mdl-textfield__input"
                               value="{{ mock_test.price.india }}"></td>
                </tr>
                <tr>
                    <td>UK Pounds:</td>
                    <td><input type="number" step="0.01" placeholder="Ex: 1.3" name="price_uk"
                               class="mdl-textfield__input"
                               value="{{ mock_test.price.uk }}"></td>
                </tr>
                <tr>
                    <td><input type="submit" value="Save" name="save_doc"
                               class="mdl-button mdl-button--raised mdl-button--colored mdl-js-button mdl-js-ripple-effect"
                               style="margin-top: 16px"></td>
                </tr>
            </table>
            <hr/>

            <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
                <thead>
                <tr>
                    <th>Q No</th>
                    <th class="mdl-data-table__cell--non-numeric">Question</th>
                    <th class="mdl-data-table__cell--non-numeric">Explanation</th>
                </tr>
                </thead>
                <tbody>
                {% for question in mock_test_questions %}
                    <tr>
                        <td>{{ question.index }}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{ question.text }}</td>
                        <td class="mdl-data-table__cell--non-numeric">{{ question.explanation }}</td>
                        <td><a href="{% url 'admin:edit_mock_question' mock_id question.id %}"
                               class="mdl-button mdl-button--raised mdl-button--colored mdl-js-button mdl-js-ripple-effect">Edit</a>
                            <a href="#" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Delete</a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

            <div id="addQuestionForm" style="display: none;">
                <h5>Add New Question</h5>
                <textarea class="mdl-textfield__input" type="text" id="new_question_text"
                          placeholder="Your question goes here..." name="new_question_text"></textarea><br/>
                <input type="submit" value="Continue" name="add_new_question"
                       class="mdl-button mdl-button--raised mdl-button--colored mdl-js-button mdl-js-ripple-effect">
                <button type="button" onclick="closeForm()"
                        class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">Close
                </button>
            </div>

            <button onclick="openForm()" type="button"
                    class="mdl-button mdl-button--raised mdl-button--colored mdl-js-button mdl-js-ripple-effect"
                    style="margin-top: 16px;" id="add_new_question_button">add
            </button>


        </form>
    </div>

    <script>
        function openForm() {
            document.getElementById("addQuestionForm").style.display = "block";
            document.getElementById("add_new_question_button").style.display = "none";
        }

        function closeForm() {
            document.getElementById("addQuestionForm").style.display = "none";
            document.getElementById("add_new_question_button").style.display = "block";
        }
    </script>

{% endblock container %}